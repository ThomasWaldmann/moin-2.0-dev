<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    {#
        include charset information - needed for moin_dump or any other case
        when reading the html without a web server  
    #}
    
    <meta http-equiv="Content-Type" content="{{ page.output_mimetype }};charset={{ page.output_charset }}">
    
    {# Search engine precautions / optimizations #}
    
    {% if theme.request.query_string %}
        {# if it is an action or edit/search, send query headers (noindex,nofollow): #}
        {{ cfg.html_head_queries }}
    {% elif theme.request.method == 'POST' or page.page_name in ['BadContent', 'LocalBadContent', ] %}
        {# we don't want to have BadContent stuff indexed: #}
        {{ cfg.html_head_posts }}
    {% elif page.page_name in special_pagename %}
        {# if it is a special page, index it and follow the links - we do it #}
        {# for the original, English pages as well as for (the possibly modified frontpage #}
        {{ cfg.html_head_index }}
    {% else %}
        {# if it is a normal page, index it, but do not follow the links, because #}
        {# there are a lot of illegal links (like actions) or duplicates: #}
        {{ cfg.html_head_normal }}
    {% endif %}
    
    {% for head in user_head %}
        {{ head }}
    {% endfor %}
       
    {% set meta_keywords = theme.request.getPragma('keywords') %}
    {% if meta_keywords %}
        <meta name="keywords" content="{{ meta_keywords }}">
    {% endif %}
    
    {% set meta_description = theme.request.getPragma('description') %}
    {% if meta_description %}
        <meta name="description" content="{{ meta_description }}">
    {% endif %}
    
    <title> {{ title|escape }} - 
        {% if cfg.html_pagetitle %}
            {{ cfg.html_pagetitle|e }}
        {% else %}
            {{ cfg.sitename|escape }}
        {% endif %}
    </title>
    
    <link rel="Search" href="{{ href(translated_item_name('FindPage'))|e }}">
    <link rel="Index" href="{{ href(translated_item_name('TitleIndex'))|e }}">
    <link rel="Glossary" href="{{ href(translated_item_name('WordIndex'))|e }}">
    <link rel="Help" href="{{ href(translated_item_name('HelpOnFormatting'))|e }}">
    <link rel="Start" href="{{ href(translated_item_name(cfg.page_front_page))|e }}">
    {% if link_parent %}
        <link rel="Up" href="{{ link_parent }}">
    {% endif %}
    
    {# ueb refers to universal edit button #}
    {% if theme.universal_edit_button(page) %}
        <link rel="alternate" type="application/wiki" title="{{ _('Modify') }}" href="{{ href(page.page_name, do='modify')|e }}">
    {% endif %}   
    
    <link rel="alternate" title="{{ page.page_name|e }} changes" href="{{ href(page.page_name, do='atom_feed')|e }}" type="application/atom+xml">
    {{ html_head_keywords }}    
    
    {% for src in ['svg', 'common'] %}
        <script type="text/javascript" src="{{ href("%s/common/js/%s.js" % (cfg.url_prefix_local, src))|e }}"></script>
    {% endfor %}
    
    {% for media, href, title in stylesheets %}
        {% if loop.last %}
        <!-- css only for MS IE6/IE7 browsers -->
        <!--[if lt IE 8]>
        {% endif %}
        
        <link charset="utf-8" type="text/css" media="{{ media }}" rel=
        {% if title %}
            "alternate stylesheet" title="{{ title }}"
        {% else %}
            "stylesheet"
        {% endif %}
        href="{{ href }}"
        >
        {% if loop.last %}
        <![endif]-->
        {% endif %}
    {% endfor %}
 
    <script type="text/javascript">
    <!--
    var search_hint = " {{ _('Search') }}";
    //-->
    </script>
    
</head>
