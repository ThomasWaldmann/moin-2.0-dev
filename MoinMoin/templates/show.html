{% extends "layout.html" %}

{% import "editbar.html" as editbar with context %}

{% block extra_header %}
    {{ editbar }}
{% endblock %}

{% block content %}
    {% if not rev %}
    This item exists, but not this revision.
    {% else %}
    {% block headline %}
    <h1>Item: {{ rev.item.name }} {% if rev.revno != last_rev_no %}(Revision {{ rev.revno }}){% endif %}</h1>
    {% endblock %}
    Data:
    {{ data_rendered }}
    <hr />
    Meta:
    {{ meta_rendered }}
    {% endif %}
{% endblock %}

{% block index %}
    {% if index %}
        <hr>Index of sub items:
        {% for fullname, relname, mimetype in index %}
            <a href="{{ href(fullname)|e }}">{{ relname|e }} ({{ mimetype|e }})</a>
        {% endfor %}
    {% endif %}
{% endblock %}

{% block extra_content %}
    {% if rev %}
    <div id="pagebottom">
        <p id="pageinfo" class="info" lang="{{ theme.ui_lang }}" dir="{{ theme.ui_dir }}">
            {% if cfg.show_interwiki %}{{ cfg.interwikiname }}:{% endif %}
            {{ item_name }} ({{ _("edited %s by %s" % (user.getFormattedDateTime(rev.timestamp), rev|user_format )) }})
        </p>
    </div>
    {% endif %}
{% endblock %}

{% block extra_footer %}
    {{ editbar }}
{% endblock %}

